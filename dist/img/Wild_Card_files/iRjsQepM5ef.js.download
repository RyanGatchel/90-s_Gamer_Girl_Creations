if (self.CavalryLogger) { CavalryLogger.start_js(["wfiyB"]); }

__d("ImportEventButtonContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"ticket_link_validation_data",type:"TicketLinkValidationData!"},{defaultValue:0,kind:"LocalArgument",name:"refetchCounter",type:"ID"}],b={alias:null,args:[{kind:"Variable",name:"ticket_link_validation_data",variableName:"ticket_link_validation_data"}],concreteType:"TicketLinkValidationResult",kind:"LinkedField",name:"validate_ticket_uri",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorize_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_managed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supports_ticketing",storageKey:null},{alias:null,args:null,concreteType:"EventbriteEvent",kind:"LinkedField",name:"eventbrite_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logo_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null}],storageKey:null}],storageKey:null},c=[{kind:"Variable",name:"id",variableName:"refetchCounter"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ImportEventButtonContainerQuery",selections:[b,{alias:"dummy_event_for_refetch_ignore_lint_warning",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[d],type:"Event",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ImportEventButtonContainerQuery",selections:[b,{alias:"dummy_event_for_refetch_ignore_lint_warning",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:null}]},params:{id:"710398352417396",metadata:{},name:"ImportEventButtonContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ImportEventByTicketLinkMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"ImportEventData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ImportEventResponsePayload",kind:"LinkedField",name:"import_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"created_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ImportEventByTicketLinkMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ImportEventByTicketLinkMutation",selections:b},params:{id:"1676052019108507",metadata:{},name:"ImportEventByTicketLinkMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FBUnclickableOverlay.react",["cx","FBTooltipFollowCursor.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_-ac","_-ad",this.props.className),c;this.props.disabled||(this.props.tooltip?c=h.jsx(b("FBTooltipFollowCursor.react"),{position:"above",tooltip:this.props.tooltip,children:h.jsx("div",{className:a,"data-testid":void 0})}):c=h.jsx("div",{className:a,"data-testid":void 0}));return h.jsxs("div",{className:"_-ae",children:[c,this.props.children]})};return c}(h.PureComponent);a.defaultProps={disabled:!1};e.exports=a}),null);
__d("ImportEventByTicketLinkMutation",["RelayModern","ImportEventByTicketLinkMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;a=g!==void 0?g:g=b("ImportEventByTicketLinkMutation.graphql");e.exports=a}),null);
__d("EventbriteLinkImportDialog.react",["cx","fbt","EventAddOnsiteTicketingUtil","EventsActionsLogger","FBJSON","FBToggleSwitch.react","FBUnclickableOverlay.react","FDSButton.react","FDSText.react","FlexLayout.react","Image.react","ImageBlock.react","ImportEventByTicketLinkMutation","InlineBlock.react","InputLabel.react","Random","React","ReactComposerLoggingName","ReactComposerScrapedAttachmentActions","ReactComposerTaggerActions","RelayAPIConfig","RelayFBEnvironment","RelayModern","SearchableEntry","SUIBusinessTheme","SUINotice.react","SUISpinner.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUIGrayText.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("RelayModern").commitMutation;function k(a,b){return a.length>b?a.slice(0,b)+"...":a}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={selectedValue:null,overlayDisabled:!0,importError:!1,errorMessage:null},d.handleSelect=function(a){d.setState({selectedValue:a}),d.$1(b("EventsActionsLogger").Type.CLICK,b("EventsActionsLogger").Target.TOGGLE_BUTTON,a)},d.$3=function(){d.setState({overlayDisabled:!1});var a=null;d.state.selectedValue!==null&&(a=d.state.selectedValue?"enable_onsite_ticketing":"disable_onsite_ticketing");j(b("RelayFBEnvironment"),{mutation:b("ImportEventByTicketLinkMutation"),variables:{input:{client_mutation_id:"ImportEventByTicketLinkMutation"+b("Random").uint32(),actor_id:b("RelayAPIConfig").actorID,ticket_link:d.props.ticketLink,page_id:d.props.pageID,post_id:d.props.postID,action_context:b("FBJSON").stringify(d.props.acontext),event_onsite_ticketing:a}},onCompleted:function(a,c){a=(c=a)!=null?(c=c.import_event)!=null?(c=c.created_event)!=null?c.id:c:c:c;c=d.props.context;if(a&&c){c=c.composerID;b("ReactComposerScrapedAttachmentActions").setScrapedAttachment(c,null,{},b("ReactComposerLoggingName").EVENT_IMPORT_BY_INTERCEPT);var e=new(b("SearchableEntry"))({uniqueID:a,title:""});b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").TAG_EVENT_TICKET,"TAG_EVENT_TICKET",{ticketedEventData:e})}d.props.onCompleted&&d.props.onCompleted(a)},onError:function(a){var c=a.toString().split(":"),e=null;if(c.length==3)switch(c[1]){case" GraphQL server responded with error 1401048":case" GraphQL server responded with error 1401025":case" GraphQL server responded with error 1588016":e=c[2];break;default:break}d.$1(b("EventsActionsLogger").Type.ERROR,b("EventsActionsLogger").Target.IMPORT_EVENT_BUTTON,null,a.toString());d.setState({overlayDisabled:!0,importError:!0,errorMessage:e})}});d.$1(b("EventsActionsLogger").Type.CLICK,b("EventsActionsLogger").Target.IMPORT_EVENT_BUTTON)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c,d,e){d===void 0&&(d=null),e===void 0&&(e=null),b("EventsActionsLogger").log(null,{type:a,target:c,acontext:this.props.acontext},{has_access_token:!0,page_id:this.props.pageID,ticket_link:this.props.ticketLink,toggle_on:d,error_message:e,post_id:this.props.postID})};d.UNSAFE_componentWillMount=function(){this.props.supportsTicketing&&(this.setState({selectedValue:!0}),this.$1(b("EventsActionsLogger").Type.VIEW,b("EventsActionsLogger").Target.TOGGLE_BUTTON)),this.$1(b("EventsActionsLogger").Type.VIEW,b("EventsActionsLogger").Target.IMPORT_EVENT_BUTTON)};d.$2=function(){return i.jsxs("div",{className:"_1oui",children:[i.jsx(b("SUISpinner.react"),{theme:b("SUIBusinessTheme")}),i.jsx(b("FDSText.react"),{display:"block",margin:"_3-8y",textAlign:"center",size:"body1",weight:"bold",children:b("EventAddOnsiteTicketingUtil").getImportingEventText()}),i.jsx(b("FDSText.react"),{display:"block",textAlign:"center",size:"body3",color:"secondary",children:b("EventAddOnsiteTicketingUtil").getLoadingText2()})]})};d.render=function(){var a=i.jsx(b("InlineBlock.react"),{alignv:"middle",height:48,children:i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("FDSText.react"),{size:"body1",children:this.props.name})}),i.jsx(b("FDSText.react"),{size:"body3",color:"secondary",children:this.props.startTimeSentence}),i.jsx("div",{children:i.jsx(b("FDSText.react"),{size:"body3",color:"placeholder",children:this.props.description?k(this.props.description,152):null})})]})});this.props.logoUrl&&(a=i.jsxs(b("ImageBlock.react"),{spacing:"large",children:[i.jsx(b("Image.react"),{className:"_4jc3",src:this.props.logoUrl}),a]}));var c=null;if(this.props.supportsTicketing){var d=this.state.selectedValue?h._("ON"):h._("OFF");c=i.jsxs("div",{className:"_69o-",children:[i.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"all",children:[i.jsx(b("XUIText.react"),{size:"body2",weight:"bold",className:"_69o_",children:b("EventAddOnsiteTicketingUtil").getManageTitleText()}),i.jsx(b("InputLabel.react"),{label:d,children:i.jsx(b("FBToggleSwitch.react"),{checked:this.state.selectedValue,onToggle:this.handleSelect,className:"_6807"})})]}),i.jsx(b("XUIGrayText.react"),{size:"body3",children:b("EventAddOnsiteTicketingUtil").getDisclaimerText()})]})}return i.jsx(b("XUIDialog.react"),{shown:!0,width:600,modal:!0,label:"",layerHideOnBlur:!1,hideOnEscape:!1,isStrictlyControlled:!0,onHide:this.props.onXout,children:i.jsxs(b("FBUnclickableOverlay.react"),{disabled:this.state.overlayDisabled,className:"_1ouh",children:[i.jsx(b("XUIDialogHeader.react"),{children:i.jsx(b("XUIDialogHeaderTitle.react"),{children:b("EventAddOnsiteTicketingUtil").getImportEventText()})}),i.jsxs(b("XUIDialogBody.react"),{children:[this.state.importError?i.jsx(b("SUINotice.react"),{margin:"_3-96",theme:b("SUIBusinessTheme"),type:"error",children:this.state.errorMessage?this.state.errorMessage:b("EventAddOnsiteTicketingUtil").getFailedToImportEventText()}):null,this.state.overlayDisabled?null:this.$2(),i.jsx(b("FDSText.react"),{size:"body1",children:b("EventAddOnsiteTicketingUtil").getImportFollowingEventText("Eventbrite")}),i.jsxs("div",{className:"_4jc4",children:[i.jsx("div",{className:"_69o-",children:a}),c?i.jsx("div",{style:{marginLeft:"14px"},children:i.jsx(b("FDSText.react"),{size:"body1",color:"primary",children:b("EventAddOnsiteTicketingUtil").getOptionalText()})}):null,c]})]}),i.jsxs(b("XUIDialogFooter.react"),{children:[this.props.onBack?i.jsx(b("FDSButton.react"),{label:b("EventAddOnsiteTicketingUtil").getBackText(),use:"default",onClick:this.props.onBack,margin:"_3-8_"}):null,i.jsx(b("FDSButton.react"),{label:this.props.ctaText,use:"primary",onClick:this.$3})]})]})})};return c}(i.Component);e.exports=a}),null);
__d("ImportEventErrorDialog.react",["fbt","EventsActionsLogger","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSSection.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("EventsActionsLogger").log(null,{type:b("EventsActionsLogger").Type.VIEW,target:b("EventsActionsLogger").Target.IMPORT_ERROR_DIALOG,acontext:this.props.acontext},this.props.loggingExtraData)};d.render=function(){return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:g._("OK"),onClick:this.props.onClose,use:"primary"})}),isShown:!0,onHide:this.props.onClose,width:500,children:h.jsx(b("FDSSection.react"),{children:h.jsx(b("FDSText.react"),{margin:"_3-8q",size:"body1",children:g._("This event can't be imported because it's not associated with your Eventbrite account.")})})})};return c}(h.Component);e.exports=a}),null);
__d("ImportEventButtonContainer.react",["EventActionContext","EventbriteLinkImportDialog.react","EventsActionsLogger","FDSButton.react","ImportEventErrorDialog.react","PopupWindow","React","RelayFBEnvironment","RelayModern","SUIBusinessTheme","SUILoadingModalOverlay.react","XEventsPermalinkController","ImportEventButtonContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=g!==void 0?g:g=b("ImportEventButtonContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showImportDialog:!1,refetchCounter:0,popup:null},d.monitorPopupInterval=null,d.loggedView=!1,d.$1=function(a){a=a.data;var c=new RegExp("^"+d.props.postID+"ticket_oauth_code_(.+)$");c=c.exec(a);if(c!==null)if(c[1]==="ticket_oauth_authorized"){a=d.state.refetchCounter-1;d.setState({refetchCounter:a,showImportDialog:!0});d.$2(b("EventsActionsLogger").Type.ALLOW_ADD_TICKETS,!0)}else c[1]==="ticket_oauth_not_authorized"&&d.$2(b("EventsActionsLogger").Type.DENY_ADD_TICKETS,!1)},d.$5=function(){d.setState({showImportDialog:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;window.addEventListener("message",this.$1,!1);this.monitorPopupInterval=setInterval(function(){a.state.popup&&a.state.popup.closed&&a.setState({popup:null})},100)};d.componentWillUnmount=function(){window.removeEventListener("message",this.$1),clearInterval(this.monitorPopupInterval),this.state.popup&&!this.state.popup.closed&&this.state.popup.close()};d.$2=function(a,c){c===void 0&&(c=null),b("EventsActionsLogger").log(null,{type:a,target:b("EventsActionsLogger").Target.IMPORT_CONTINUE_BUTTON,surface:b("EventsActionsLogger").Surface.PAGES_POST,mechanism:b("EventsActionsLogger").Mechanism.HEADER,acontext:{}},{has_access_token:c,page_id:this.props.pageID,post_id:this.props.postID,ticket_link:this.props.ticketLink})};d.$3=function(a){a=b("PopupWindow").open(a,700,500);this.setState({popup:a});this.$2(b("EventsActionsLogger").Type.CLICK,!1)};d.$4=function(){this.setState({showImportDialog:!0}),this.$2(b("EventsActionsLogger").Type.CLICK,!0)};d.$6=function(a){if(a){a=b("XEventsPermalinkController").getURIBuilder().setFBID("event_id",a).getURI();window.location=a}};d.$7=function(){this.$2(b("EventsActionsLogger").Type.CLICK_BEFORE_READY)};d.$8=function(a){var c=this,d=a.error;a=a.props;if(d)return null;d=null;!a&&this.state.showImportDialog&&(d=h.jsx(b("SUILoadingModalOverlay.react"),{theme:b("SUIBusinessTheme")}));var e=null;if(a&&this.state.showImportDialog){var f,g,i,j;j=((j=a)!=null?(j=j.validate_ticket_uri)!=null?j.is_managed:j:j)||!1;i=(i=a)!=null?(i=i.validate_ticket_uri)!=null?i.cta_text:i:i;g=(g=a)!=null?(g=g.validate_ticket_uri)!=null?g.eventbrite_event:g:g;f=((f=a)!=null?(f=f.validate_ticket_uri)!=null?f.supports_ticketing:f:f)||!1;var k=b("EventActionContext").getNewActionContext();k.action_history=[{mechanism:b("EventsActionsLogger").Mechanism.HEADER,surface:b("EventsActionsLogger").Surface.PAGES_POST}];if(j&&g&&i){var l=g.name,m=g.description,n=g.start_time_sentence,o=g.logo_url;e=h.jsx(b("EventbriteLinkImportDialog.react"),{name:l,description:m,startTimeSentence:n,logoUrl:o,supportsTicketing:f,pageID:this.props.pageID,acontext:k,ctaText:i,ticketLink:this.props.ticketLink,onCompleted:this.$6,onXout:this.$5,postID:this.props.postID})}else{l={is_managed_event:j,is_valid_event:!!g,page_id:this.props.pageID,post_id:this.props.postID,ticket_link:this.props.ticketLink};e=h.jsx(b("ImportEventErrorDialog.react"),{acontext:k,loggingExtraData:l,onClose:this.$5})}}var p=(m=a)!=null?(m=m.validate_ticket_uri)!=null?m.authorize_url:m:m;n=this.state.popup?!this.state.popup.closed:!1;a&&!this.loggedView&&(this.loggedView=!0,this.$2(b("EventsActionsLogger").Type.VIEW,!p));return h.jsxs(h.Fragment,{children:[h.jsx("div",{children:h.jsx(b("FDSButton.react"),{isDisabled:n||this.state.showImportDialog,label:this.props.label,onClick:a?p?function(){return c.$3(p)}:function(){return c.$4()}:function(){return c.$7()}})}),d,e]})};d.render=function(){var a=this;return h.jsx(i,{environment:b("RelayFBEnvironment"),cacheConfig:{force:!0},query:j,variables:{ticket_link_validation_data:{ticket_uri:this.props.ticketLink,surface:b("EventsActionsLogger").Surface.PAGES_POST,oauth_id:this.props.postID,page_id:this.props.pageID},refetchCounter:this.state.refetchCounter},render:function(b){return a.$8(b)}})};return c}(h.Component);e.exports=a}),null);